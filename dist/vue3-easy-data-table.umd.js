(function(e,w){typeof exports=="object"&&typeof module!="undefined"?module.exports=w(require("vue")):typeof define=="function"&&define.amd?define(["vue"],w):(e=typeof globalThis!="undefined"?globalThis:e||self,e["vue3-easy-data-table"]=w(e.Vue))})(this,function(e){"use strict";var Zt=Object.defineProperty,ea=Object.defineProperties;var ta=Object.getOwnPropertyDescriptors;var Re=Object.getOwnPropertySymbols;var aa=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable;var ve=(e,w,C)=>w in e?Zt(e,w,{enumerable:!0,configurable:!0,writable:!0,value:C}):e[w]=C,D=(e,w)=>{for(var C in w||(w={}))aa.call(w,C)&&ve(e,C,w[C]);if(Re)for(var C of Re(w))na.call(w,C)&&ve(e,C,w[C]);return e},le=(e,w)=>ea(e,ta(w));var w="",C=(r,s)=>{const t=r.__vccOpts||r;for(const[n,p]of s)t[n]=p;return t};const Te=r=>(e.pushScopeId("data-v-e0a0b7f0"),r=r(),e.popScopeId(),r),Le=["onClick"],Fe=["checked"],De=Te(()=>e.createElementVNode("label",{for:"checbox"},null,-1));var ze=C(e.defineComponent({__name:"MultipleSelectCheckBox",props:{status:{type:String,required:!0}},emits:["change"],setup(r,{emit:s}){const t=r;e.useCssVars(g=>({"51ab8a49":e.unref(i)}));const n=e.computed(()=>t.status==="allSelected"),p=()=>{s("change",!n.value)},i=e.inject("themeColor");return(g,o)=>(e.openBlock(),e.createElementBlock("div",{class:"easy-checkbox",onClick:e.withModifiers(p,["stop","prevent"])},[e.createElementVNode("input",{type:"checkbox",checked:e.unref(n),class:e.normalizeClass(r.status)},null,10,Fe),De],8,Le))}}),[["__scopeId","data-v-e0a0b7f0"]]),oa="";const He=r=>(e.pushScopeId("data-v-7e69a276"),r=r(),e.popScopeId(),r),Me=["checked"],Oe=He(()=>e.createElementVNode("label",{for:"checbox"},null,-1));var je=C(e.defineComponent({__name:"SingleSelectCheckBox",props:{checked:{type:Boolean,required:!0}},emits:["change"],setup(r,{emit:s}){e.useCssVars(n=>({fdaf7e9e:e.unref(t)}));const t=e.inject("themeColor");return(n,p)=>(e.openBlock(),e.createElementBlock("div",{class:"easy-checkbox",onClick:p[0]||(p[0]=e.withModifiers(i=>s("change"),["stop","prevent"]))},[e.createElementVNode("input",{type:"checkbox",checked:r.checked},null,8,Me),Oe]))}}),[["__scopeId","data-v-7e69a276"]]),sa="";const We=r=>(e.pushScopeId("data-v-4ca5de3a"),r=r(),e.popScopeId(),r),qe={class:"easy-data-table__rows-selector"},Je={class:"rows-input"},Ue=We(()=>e.createElementVNode("div",{class:"triangle"},null,-1)),Ge=["onClick"];var Ke=C(e.defineComponent({__name:"RowsSelector",props:{modelValue:{type:Number,required:!0},rowsItems:{type:Array,required:!0}},emits:["update:modelValue"],setup(r,{emit:s}){const t=r;e.useCssVars(_=>({"1b889342":e.unref(y)}));const n=e.ref(!1),p=e.ref(!1),i=e.inject("dataTable");e.watch(n,_=>{if(_&&i){const m=window.innerHeight,b=i.value.getBoundingClientRect().height,v=i.value.getBoundingClientRect().top;m-(b+v)<=100?p.value=!0:p.value=!1}});const g=e.computed({get:()=>t.modelValue,set:_=>{s("update:modelValue",_)}}),o=_=>{g.value=_,n.value=!1},a=(_,m)=>{let b=_.parentNode;for(;b!=null;){if(b.classList&&b.classList.contains(m))return!0;b=b.parentNode}return!1},l=_=>{a(_.target,"easy-data-table__rows-selector")||(n.value=!1)};e.onMounted(()=>{document.addEventListener("click",l)}),e.onBeforeUnmount(()=>{document.removeEventListener("click",l)});const y=e.inject("themeColor");return(_,m)=>(e.openBlock(),e.createElementBlock("div",qe,[e.createElementVNode("div",{class:"rows-input__wrapper",onClick:m[0]||(m[0]=b=>n.value=!n.value)},[e.createElementVNode("div",Je,e.toDisplayString(e.unref(g)),1),Ue]),e.createElementVNode("ul",{class:e.normalizeClass(["select-items",{show:n.value,inside:p.value}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.rowsItems,b=>(e.openBlock(),e.createElementBlock("li",{key:b,class:e.normalizeClass({selected:b===e.unref(g)}),onClick:v=>o(b)},e.toDisplayString(b),11,Ge))),128))],2)]))}}),[["__scopeId","data-v-4ca5de3a"]]),ca="";const se=r=>(e.pushScopeId("data-v-1fa3a520"),r=r(),e.popScopeId(),r),Qe={class:"lds-ring"},Xe=[se(()=>e.createElementVNode("div",null,null,-1)),se(()=>e.createElementVNode("div",null,null,-1)),se(()=>e.createElementVNode("div",null,null,-1)),se(()=>e.createElementVNode("div",null,null,-1))];var Ye=C(e.defineComponent({__name:"Loading",setup(r){e.useCssVars(t=>({"26774109":e.unref(s)}));const s=e.inject("themeColor");return(t,n)=>(e.openBlock(),e.createElementBlock("div",Qe,Xe))}}),[["__scopeId","data-v-1fa3a520"]]),ga="";const Ze={class:"loader-line"};var et=C(e.defineComponent({__name:"LoadingLine",setup(r){e.useCssVars(t=>({"0d327f57":e.unref(s)}));const s=e.inject("themeColor");return(t,n)=>(e.openBlock(),e.createElementBlock("div",Ze))}}),[["__scopeId","data-v-7d281cac"]]),ha="";const tt={class:"buttons-pagination"},at=["onClick"];var nt=C(e.defineComponent({__name:"ButtonsPagination",props:{maxPaginationNumber:{type:Number,required:!0},currentPaginationNumber:{type:Number,required:!0}},emits:["updatePage"],setup(r,{emit:s}){const t=r;e.useCssVars(o=>({"40dd4f07":e.unref(g)}));const n=7,p=o=>{o.type==="button"&&!o.active&&s("updatePage",o.page)},i=e.computed(()=>{const o=[];if(t.maxPaginationNumber<=n)for(let a=1;a<=t.maxPaginationNumber;a+=1)o.push({type:"button",page:a,active:a===t.currentPaginationNumber,activePrev:a+1===t.currentPaginationNumber});else if([1,2,t.maxPaginationNumber,t.maxPaginationNumber-1].includes(t.currentPaginationNumber))for(let a=1;a<=n;a+=1)if(a<=3)o.push({type:"button",page:a,active:a===t.currentPaginationNumber,activePrev:a+1===t.currentPaginationNumber});else if(a===4)o.push({type:"omission"});else{const l=t.maxPaginationNumber-(n-a);o.push({type:"button",page:l,active:l===t.currentPaginationNumber,activePrev:l+1===t.currentPaginationNumber})}else if([3,4].includes(t.currentPaginationNumber))for(let a=1;a<=n;a+=1)a<=5?o.push({type:"button",page:a,active:a===t.currentPaginationNumber,activePrev:a+1===t.currentPaginationNumber}):a===6?o.push({type:"omission"}):o.push({type:"button",page:t.maxPaginationNumber,active:t.maxPaginationNumber===t.currentPaginationNumber,activePrev:a+1===t.currentPaginationNumber});else if([t.maxPaginationNumber-2,t.maxPaginationNumber-3].includes(t.currentPaginationNumber))for(let a=1;a<=n;a+=1)if(a===1)o.push({type:"button",page:1,active:t.currentPaginationNumber===1,activePrev:a+1===t.currentPaginationNumber});else if(a===2)o.push({type:"omission"});else{const l=t.maxPaginationNumber-(n-a);o.push({type:"button",page:l,active:l===t.currentPaginationNumber,activePrev:l+1===t.currentPaginationNumber})}else for(let a=1;a<=n;a+=1)if(a===1)o.push({type:"button",page:1,active:t.currentPaginationNumber===1,activePrev:a+1===t.currentPaginationNumber});else if(a===2||a===6)o.push({type:"omission"});else if(a===7)o.push({type:"button",page:t.maxPaginationNumber,active:t.maxPaginationNumber===t.currentPaginationNumber,activePrev:a+1===t.currentPaginationNumber});else{const l=4-a,y=t.currentPaginationNumber-l;o.push({type:"button",page:y,active:y===t.currentPaginationNumber,activePrev:y+1===t.currentPaginationNumber})}return o}),g=e.inject("themeColor");return(o,a)=>(e.openBlock(),e.createElementBlock("div",tt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i),(l,y)=>(e.openBlock(),e.createElementBlock("div",{key:y,class:e.normalizeClass(["item",{button:l.type==="button",active:l.type==="button"&&l.active,"active-prev":l.type==="button"&&l.activePrev,omission:l.type==="omission"}]),onClick:_=>p(l)},e.toDisplayString(l.type==="button"?l.page:"..."),11,at))),128))]))}}),[["__scopeId","data-v-4c681fa2"]]),ba="";const me=r=>(e.pushScopeId("data-v-c9da5286"),r=r(),e.popScopeId(),r),rt=[me(()=>e.createElementVNode("span",{class:"arrow arrow-right"},null,-1))],ot=[me(()=>e.createElementVNode("span",{class:"arrow arrow-left"},null,-1))];var lt=C(e.defineComponent({__name:"PaginationArrows",props:{isFirstPage:{type:Boolean,required:!1},isLastPage:{type:Boolean,required:!1}},emits:["clickPrevPage","clickNextPage"],setup(r,{emit:s}){const t=e.useSlots();return(n,p)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["previous-page__click-button",{"first-page":r.isFirstPage}]),onClick:p[0]||(p[0]=i=>s("clickPrevPage"))},rt,2),e.unref(t).buttonsPagination?e.renderSlot(n.$slots,"buttonsPagination",{key:0},void 0,!0):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["next-page__click-button",{"last-page":r.isLastPage}]),onClick:p[1]||(p[1]=i=>s("clickNextPage"))},ot,2)],64))}}),[["__scopeId","data-v-c9da5286"]]);function st(r,s,t,n){return{clickRow:(i,g,o)=>{if(r.value!==g)return;const a=D({},i);if(s.value){const{checkbox:l}=i;delete a.checkbox,a.isSelected=l}if(t.value){const{index:l}=i;delete a.index,a.indexInCurrentPage=l}n("clickRow",a,o)}}}function it(r,s,t,n){const p=e.ref([]),i=l=>r.value.findIndex(y=>{let _={};return Object.keys(l).map(m=>{_[m]=y[m]}),JSON.stringify(_)===JSON.stringify(l)}),g=(l,y,_)=>{_.stopPropagation();const m=p.value.indexOf(l);if(m!==-1)p.value.splice(m,1),a();else{const b=i(y);n("expandRow",s.value+b,y),p.value.push(s.value+b),a()}},o=()=>{p.value=[]};function a(){n("update:itemsExpanded",p.value.map(l=>r.value[l]))}return e.watch(t,l=>{l.forEach(y=>{const _=i(y);n("expandRow",s.value+_,y),p.value.push(s.value+_)})},{deep:!0}),{expandingItemIndexList:p,updateExpandingItemIndexList:g,clearExpandingItemIndexList:o}}function ct(r){const s=e.computed(()=>r.value.filter(p=>p.fixed)),t=e.computed(()=>s.value.length?s.value[s.value.length-1].value:""),n=e.computed(()=>{if(!s.value.length)return[];const p=s.value.map(i=>{var g;return(g=i.width)!=null?g:100});return s.value.map((i,g)=>{var o,a;return{value:i.value,fixed:(o=i.fixed)!=null?o:!0,width:(a=i.width)!=null?a:100,distance:g===0?0:p.reduce((l,y,_)=>{let m=l;return _<g&&(m+=y),m})}})});return{fixedHeaders:s,lastFixedColumn:t,fixedColumnsInfos:n}}function dt(r,s,t,n,p,i,g,o,a,l,y,_,m,b,v,k,E,z,H){const u=e.computed(()=>g.value.findIndex(h=>h.fixed)!==-1),S=e.computed(()=>u.value?g.value.filter(h=>h.fixed):[]),x=e.computed(()=>g.value.filter(h=>!h.fixed)),A=(h,T)=>Array.isArray(h)&&Array.isArray(T)?{sortBy:h,sortDesc:T.map(N=>N==="desc")}:h!==""?{sortBy:v.value,sortDesc:k.value==="desc"}:null,f=e.ref(A(v.value,k.value)),B=e.computed(()=>{var ie;const T=[...S.value,...x.value].map(Q=>{const R=Object.assign(Q);if(R.sortable&&(R.sortType="none"),m.value)if(Array.isArray(m.value.sortBy)&&Array.isArray(m.value.sortType)&&m.value.sortBy.includes(R.value)){const Y=m.value.sortBy.indexOf(R.value);R.sortType=m.value.sortType[Y]}else R.value===m.value.sortBy&&m.value.sortType&&(R.sortType=m.value.sortType);if(f.value&&Array.isArray(f.value.sortBy)&&Array.isArray(f.value.sortDesc)&&f.value.sortBy.includes(R.value)){const Y=f.value.sortBy.indexOf(R.value);R.sortType=f.value.sortDesc[Y]?"desc":"asc"}else f.value&&R.value===f.value.sortBy&&(R.sortType=f.value.sortDesc?"desc":"asc");return R});let N=[];o.value?N=[p.value||u.value?{text:"",value:"expand",fixed:!0,width:t.value}:{text:"",value:"expand"},...T]:N=T;let L=[];b.value?L=[i.value||u.value?{text:r.value,value:"index",fixed:!0,width:a.value}:{text:r.value,value:"index"},...N]:L=N;let J=[];return l.value?J=[n.value||u.value?{text:"checkbox",value:"checkbox",fixed:!0,width:(ie=s.value)!=null?ie:36}:{text:"checkbox",value:"checkbox"},...L]:J=L,J}),V=e.computed(()=>B.value.map(h=>h.value));return{clientSortOptions:f,headerColumns:V,headersForRender:B,updateSortField:(h,T)=>{let N=null;if(T==="none"?N="asc":T==="asc"?N="desc":N=_.value?"asc":null,y.value&&z(h,N),f.value&&Array.isArray(f.value.sortBy)&&Array.isArray(f.value.sortDesc)){const L=f.value.sortBy.indexOf(h);L===-1?N!==null&&(f.value.sortBy.push(h),f.value.sortDesc.push(N==="desc")):N===null?(f.value.sortDesc.splice(L,1),f.value.sortBy.splice(L,1)):f.value.sortDesc[L]=N==="desc"}else N===null?f.value=null:f.value={sortBy:h,sortDesc:N==="desc"};H("updateSort",{sortType:N,sortBy:h})},isMultiSorting:h=>m.value&&Array.isArray(m.value.sortBy)?m.value.sortBy.includes(h):f.value&&Array.isArray(f.value.sortBy)?f.value.sortBy.includes(h):!1,getMultiSortNumber:h=>m.value&&Array.isArray(m.value.sortBy)?m.value.sortBy.indexOf(h)+1:f.value&&Array.isArray(f.value.sortBy)?f.value.sortBy.indexOf(h)+1:!1}}function ut(r,s,t,n,p,i,g,o,a){const l=e.computed(()=>(r.value-1)*p.value+1),y=e.computed(()=>t.value?Math.min(a.value,r.value*p.value):Math.min(o.value.length,r.value*p.value)),_=e.computed(()=>t.value?n.value:o.value.slice(l.value-1,y.value)),m=e.computed(()=>g.value?_.value.map((k,E)=>D({index:l.value+E},k)):_.value),b=e.computed(()=>i.value.length===0||i.value.every(E=>o.value.findIndex(z=>JSON.stringify(E)===JSON.stringify(z))===-1)?"noneSelected":i.value.length===o.value.length&&i.value.every(z=>o.value.findIndex(H=>JSON.stringify(z)===JSON.stringify(H))!==-1)?"allSelected":"partSelected"),v=e.computed(()=>s.value?b.value==="allSelected"?m.value.map(k=>D({checkbox:!0},k)):b.value==="noneSelected"?m.value.map(k=>D({checkbox:!1},k)):m.value.map(k=>{const E=i.value.findIndex(z=>{const H=D({},k);return delete H.index,JSON.stringify(z)===JSON.stringify(H)})!==-1;return D({checkbox:E},k)}):m.value);return{currentPageFirstIndex:l,currentPageLastIndex:y,multipleSelectStatus:b,pageItems:v}}function pt(r,s,t,n,p,i,g){const o=e.ref(i.value?i.value.page:r.value),a=e.computed(()=>Math.ceil(n.value/p.value)),l=e.computed(()=>a.value===0||o.value===a.value),y=e.computed(()=>o.value===1);return{currentPaginationNumber:o,maxPaginationNumber:a,isLastPage:l,isFirstPage:y,nextPage:()=>{if(n.value!==0&&!l.value&&!t.value)if(s.value){const k=o.value+1;g(k)}else o.value+=1},prevPage:()=>{if(n.value!==0&&!y.value&&!t.value)if(s.value){const k=o.value-1;g(k)}else o.value-=1},updatePage:k=>{t.value||(s.value?g(k):o.value=k)},updateCurrentPaginationNumber:k=>{o.value=k}}}function ft(r,s,t,n){const p=e.computed(()=>!r.value&&s.value.findIndex(o=>o===n.value)===-1?[n.value,...s.value]:s.value),i=e.ref(t.value?t.value.rowsPerPage:n.value);return{rowsItemsComputed:p,rowsPerPageRef:i,updateRowsPerPage:o=>{i.value=o}}}function mt(r,s,t){const n=e.computed({get:()=>{if(r.value){const{page:o,rowsPerPage:a,sortBy:l,sortType:y}=r.value;return{page:o,rowsPerPage:a,sortBy:l!=null?l:null,sortType:y!=null?y:null}}return null},set:o=>{t("update:serverOptions",o)}});return{serverOptionsComputed:n,updateServerOptionsPage:o=>{n.value&&(n.value=le(D({},n.value),{page:o}))},updateServerOptionsSort:(o,a)=>{if(n.value)if(s.value&&Array.isArray(n.value.sortBy)&&Array.isArray(n.value.sortType)){const l=n.value.sortBy.findIndex(y=>y===o);l===-1&&a!==null&&(n.value.sortBy.push(o),n.value.sortType.push(a)),a===null?(n.value.sortBy.splice(l,1),n.value.sortType.splice(l,1)):n.value.sortType[l]=a}else n.value=le(D({},n.value),{sortBy:a!==null?o:null,sortType:a})},updateServerOptionsRowsPerPage:o=>{n.value&&(n.value=le(D({},n.value),{page:1,rowsPerPage:o}))}}}function $(r,s){var t;if(r.includes(".")){const n=r.split("."),{length:p}=n;let i,g=0;for(;g<p;){if(g===0)i=s[n[0]];else if(i&&typeof i=="object")i=i[n[g]];else{i="";break}g+=1}return i!=null?i:""}return(t=s[r])!=null?t:""}function gt(r,s){const t=$(r,s);return Array.isArray(t)?t.join(","):t}function yt(r,s,t,n,p,i,g,o,a,l){const y=u=>{if(typeof i.value=="string"&&i.value!=="")return $(i.value,u);if(Array.isArray(i.value)){let S="";return i.value.forEach(x=>{S+=$(x,u)}),S}return Object.values(u).join(" ")},_=e.computed(()=>{if(!t.value&&g.value!==""){const u=new RegExp(g.value,"i");return n.value.filter(S=>u.test(y(S)))}return n.value}),m=e.computed(()=>{let u=[..._.value];return s.value?(s.value.forEach(S=>{u=u.filter(x=>{const{field:A,comparison:f,criteria:B}=S;if(typeof f=="function")return f($(A,x),B);const V=$(A,x);switch(f){case"=":return V===B;case"!=":return V!==B;case">":return V>B;case"<":return V<B;case"<=":return V<=B;case">=":return V>=B;case"between":return V>=Math.min(...B)&&V<=Math.max(...B);case"in":return B.includes(V);default:return V===B}})}),u):_.value});e.watch(m,u=>{s.value&&l("updateFilter",u)},{immediate:!0,deep:!0});function b(u,S,x,A){const f=u[A],B=S[A];return(A===0?x:b(u,S,x,A-1)).sort((q,j)=>{let X=!0;for(let h=0;h<A;h+=1)if($(u[h],q)!==$(u[h],j)){X=!1;break}return X?$(f,q)<$(f,j)?B?1:-1:$(f,q)>$(f,j)?B?-1:1:0:0})}const v=e.computed(()=>{if(t.value)return n.value;if(r.value===null)return m.value;const{sortBy:u,sortDesc:S}=r.value,x=[...m.value];return a&&Array.isArray(u)&&Array.isArray(S)?u.length===0?x:b(u,S,x,u.length-1):x.sort((A,f)=>$(u,A)<$(u,f)?S?1:-1:$(u,A)>$(u,f)?S?-1:1:0)}),k=e.computed(()=>t.value?o.value:v.value.length),E=e.computed({get:()=>{var u;return(u=p.value)!=null?u:[]},set:u=>{l("update:itemsSelected",u)}});return{totalItems:v,selectItemsComputed:E,totalItemsLength:k,toggleSelectAll:u=>{E.value=u?v.value:[],u&&l("selectAll")},toggleSelectItem:u=>{const S=u.checkbox;if(delete u.checkbox,delete u.index,S)E.value=E.value.filter(x=>JSON.stringify(x)!==JSON.stringify(u)),l("deselectRow",u);else{const x=E.value;x.unshift(u),E.value=x,l("selectRow",u)}}}}var ht={alternating:{type:Boolean,default:!1},buttonsPagination:{type:Boolean,default:!1},checkboxColumnWidth:{type:Number,default:null},currentPage:{type:Number,default:1},emptyMessage:{type:String,default:"No Available Data"},expandColumnWidth:{type:Number,default:36},filterOptions:{type:Array,default:null},fixedExpand:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},fixedCheckbox:{type:Boolean,default:!1},fixedIndex:{type:Boolean,default:!1},headerTextDirection:{type:String,default:"left"},bodyTextDirection:{type:String,default:"left"},hideFooter:{type:Boolean,default:!1},hideRowsPerPage:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},indexColumnWidth:{type:Number,default:60},itemsExpanded:{type:Array,default:[]},itemsSelected:{type:Array,default:null},loading:{type:Boolean,deault:!1},rowsPerPage:{type:Number,default:25},rowsItems:{type:Array,default:()=>[25,50,100]},rowsPerPageMessage:{type:String,default:"rows per page:"},searchField:{type:[String,Array],default:""},searchValue:{type:String,default:""},serverOptions:{type:Object,default:null},serverItemsLength:{type:Number,default:0},showIndex:{type:Boolean,default:!1},sortBy:{type:[String,Array],default:""},sortType:{type:[String,Array],default:"asc"},multiSort:{type:Boolean,default:!1},tableMinHeight:{type:Number,default:180},tableHeight:{type:Number,default:null},themeColor:{type:String,default:"#42b883"},tableClassName:{type:String,default:""},headerClassName:{type:String,default:""},headerItemClassName:{type:[Function,String],default:""},bodyRowClassName:{type:[Function,String],default:""},bodyExpandRowClassName:{type:[Function,String],default:""},bodyItemClassName:{type:[Function,String],default:""},noHover:{type:Boolean,default:!1},borderCell:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},rowsOfPageSeparatorMessage:{type:String,default:"of"},clickEventType:{type:String,default:"single"},clickRowToExpand:{type:Boolean,default:!1},tableNodeId:{type:String,default:""},showIndexSymbol:{type:String,default:"#"}},Sa="",Na="";const _t=r=>(e.pushScopeId("data-v-03558ea3"),r=r(),e.popScopeId(),r),bt=["id"],kt=["onClick"],xt={key:3,class:"header-text"},Pt={key:5,class:"multi-sort__number"},St=["onClick","onDblclick","onContextmenu"],Nt=["onClick"],Ct=["colspan"],Bt={key:0,class:"vue3-easy-data-table__loading"},wt=_t(()=>e.createElementVNode("div",{class:"vue3-easy-data-table__loading-mask"},null,-1)),It={class:"loading-entity"},Et={key:1,class:"vue3-easy-data-table__message"},$t={key:0,class:"vue3-easy-data-table__footer"},At={key:0,class:"pagination__rows-per-page"},Vt={class:"pagination__items-index"},Rt=e.defineComponent({__name:"DataTable",props:le(D({},ht),{items:{type:Array,required:!0},headers:{type:Array,required:!0}}),emits:["clickRow","contextmenuRow","selectRow","deselectRow","expandRow","updateSort","updateFilter","update:itemsExpanded","update:itemsSelected","update:serverOptions","updatePageItems","updateTotalItems","selectAll"],setup(r,{expose:s,emit:t}){const n=r;e.useCssVars(d=>({b5b054ea:e.unref(Tt),"4a724b76":e.unref(vt)}));const{tableNodeId:p,clickEventType:i,bodyTextDirection:g,checkboxColumnWidth:o,currentPage:a,expandColumnWidth:l,filterOptions:y,fixedCheckbox:_,fixedExpand:m,fixedHeader:b,fixedIndex:v,headers:k,headerTextDirection:E,indexColumnWidth:z,items:H,itemsExpanded:u,itemsSelected:S,loading:x,mustSort:A,multiSort:f,rowsItems:B,rowsPerPage:V,searchField:q,searchValue:j,serverItemsLength:X,serverOptions:h,showIndex:T,sortBy:N,sortType:L,tableHeight:J,tableMinHeight:ie,themeColor:Q,rowsOfPageSeparatorMessage:R,showIndexSymbol:Y}=e.toRefs(n),vt=e.computed(()=>J.value?`${J.value}px`:null),Tt=e.computed(()=>`${ie.value}px`);e.provide("themeColor",Q.value);const F=e.useSlots(),Lt=e.computed(()=>!!F.pagination),Ft=e.computed(()=>!!F.loading),ye=e.computed(()=>!!F.expand),Dt=e.computed(()=>!!F.body),he=e.ref(),de=e.ref();e.provide("dataTable",he);const _e=e.ref(!1);e.onMounted(()=>{de.value.addEventListener("scroll",()=>{_e.value=de.value.scrollLeft>0})});const ue=e.computed(()=>S.value!==null),U=e.computed(()=>h.value!==null),{serverOptionsComputed:pe,updateServerOptionsPage:zt,updateServerOptionsSort:Ht,updateServerOptionsRowsPerPage:Mt}=mt(h,f,t),{clientSortOptions:be,headerColumns:ke,headersForRender:G,updateSortField:Ot,isMultiSorting:jt,getMultiSortNumber:Wt}=dt(Y,o,l,_,m,v,k,ye,z,ue,U,A,pe,T,N,L,f,Ht,t),{rowsItemsComputed:xe,rowsPerPageRef:W,updateRowsPerPage:qt}=ft(U,B,h,V),{totalItems:Pe,selectItemsComputed:Jt,totalItemsLength:ce,toggleSelectAll:Ut,toggleSelectItem:Gt}=yt(be,y,U,H,S,q,j,X,f,t),{currentPaginationNumber:O,maxPaginationNumber:Z,isLastPage:ee,isFirstPage:te,nextPage:ae,prevPage:ne,updatePage:re,updateCurrentPaginationNumber:Kt}=pt(a,U,x,ce,W,h,zt),{currentPageFirstIndex:Se,currentPageLastIndex:Ne,multipleSelectStatus:Ce,pageItems:K}=ut(O,ue,U,H,W,Jt,T,Pe,ce),oe=e.computed(()=>O.value===0?0:(O.value-1)*W.value),{expandingItemIndexList:Be,updateExpandingItemIndexList:we,clearExpandingItemIndexList:Ie}=it(K,oe,u,t),{fixedHeaders:fe,lastFixedColumn:Ee,fixedColumnsInfos:Qt}=ct(G),{clickRow:$e}=st(i,ue,T,t),Xt=d=>{var c;const M=(c=d.width)!=null?c:fe.value.length?100:null;if(M)return`width: ${M}px; min-width: ${M}px;`},Ae=(d,M="th")=>{if(!fe.value.length)return;const c=Qt.value.find(I=>I.value===d);if(c)return`left: ${c.distance}px;z-index: ${M==="th"?3:1};position: sticky;`};return e.watch(x,(d,M)=>{pe.value&&d===!1&&M===!0&&(Kt(pe.value.page),Ie())}),e.watch(W,d=>{U.value?Mt(d):re(1)}),e.watch([j,y],()=>{U.value||re(1)}),e.watch([O,be,q,j,y],()=>{Ie()},{deep:!0}),e.watch(K,d=>{t("updatePageItems",d)},{deep:!0}),e.watch(Pe,d=>{t("updateTotalItems",d)},{deep:!0}),s({currentPageFirstIndex:Se,currentPageLastIndex:Ne,clientItemsLength:ce,maxPaginationNumber:Z,currentPaginationNumber:O,isLastPage:ee,isFirstPage:te,nextPage:ae,prevPage:ne,updatePage:re,rowsPerPageOptions:xe,rowsPerPageActiveOption:W,updateRowsPerPageActiveOption:qt}),(d,M)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"dataTable",ref:he,class:e.normalizeClass(["vue3-easy-data-table",[d.tableClassName]])},[e.createElementVNode("div",{ref_key:"tableBody",ref:de,class:e.normalizeClass(["vue3-easy-data-table__main",{"fixed-header":e.unref(b),"fixed-height":e.unref(J),"show-shadow":_e.value,"table-fixed":e.unref(fe).length,hoverable:!d.noHover,"border-cell":d.borderCell}])},[e.createElementVNode("table",{id:e.unref(p)},[e.createElementVNode("colgroup",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(G),(c,I)=>(e.openBlock(),e.createElementBlock("col",{key:I,style:e.normalizeStyle(Xt(c))},null,4))),128))]),e.unref(F)["customize-headers"]?e.renderSlot(d.$slots,"customize-headers",{key:0},void 0,!0):e.unref(G).length&&!d.hideHeader?(e.openBlock(),e.createElementBlock("thead",{key:1,class:e.normalizeClass(["vue3-easy-data-table__header",[d.headerClassName]])},[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(G),(c,I)=>(e.openBlock(),e.createElementBlock("th",{key:I,class:e.normalizeClass([{sortable:c.sortable,none:c.sortable&&c.sortType==="none",desc:c.sortable&&c.sortType==="desc",asc:c.sortable&&c.sortType==="asc",shadow:c.value===e.unref(Ee)},typeof d.headerItemClassName=="string"?d.headerItemClassName:d.headerItemClassName(c,I+1)]),style:e.normalizeStyle(Ae(c.value)),onClick:e.withModifiers(P=>c.sortable&&c.sortType?e.unref(Ot)(c.value,c.sortType):null,["stop"])},[c.text==="checkbox"?(e.openBlock(),e.createBlock(ze,{key:e.unref(Ce),status:e.unref(Ce),onChange:e.unref(Ut)},null,8,["status","onChange"])):(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["header",`direction-${e.unref(E)}`])},[e.unref(F)[`header-${c.value}`]?e.renderSlot(d.$slots,`header-${c.value}`,e.normalizeProps(e.mergeProps({key:0},c)),void 0,!0):e.unref(F)[`header-${c.value.toLowerCase()}`]?e.renderSlot(d.$slots,`header-${c.value.toLowerCase()}`,e.normalizeProps(e.mergeProps({key:1},c)),void 0,!0):e.unref(F).header?e.renderSlot(d.$slots,"header",e.normalizeProps(e.mergeProps({key:2},c)),void 0,!0):(e.openBlock(),e.createElementBlock("span",xt,e.toDisplayString(c.text),1)),c.sortable?(e.openBlock(),e.createElementBlock("i",{key:c.sortType?c.sortType:"none",class:e.normalizeClass(["sortType-icon",{desc:c.sortType==="desc"}])},null,2)):e.createCommentVNode("",!0),e.unref(f)&&e.unref(jt)(c.value)?(e.openBlock(),e.createElementBlock("span",Pt,e.toDisplayString(e.unref(Wt)(c.value)),1)):e.createCommentVNode("",!0)],2))],14,kt))),128))])],2)):e.createCommentVNode("",!0),e.unref(Dt)?e.renderSlot(d.$slots,"body",e.normalizeProps(e.mergeProps({key:2},e.unref(K))),void 0,!0):e.unref(ke).length?(e.openBlock(),e.createElementBlock("tbody",{key:3,class:e.normalizeClass(["vue3-easy-data-table__body",{"row-alternation":d.alternating}])},[e.renderSlot(d.$slots,"body-prepend",e.normalizeProps(e.guardReactiveProps({items:e.unref(K),pagination:{isFirstPage:e.unref(te),isLastPage:e.unref(ee),currentPaginationNumber:e.unref(O),maxPaginationNumber:e.unref(Z),nextPage:e.unref(ae),prevPage:e.unref(ne)},headers:e.unref(G)})),void 0,!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(K),(c,I)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:I},[e.createElementVNode("tr",{class:e.normalizeClass([{"even-row":(I+1)%2===0},typeof d.bodyRowClassName=="string"?d.bodyRowClassName:d.bodyRowClassName(c,I+1)]),onClick:P=>{e.unref($e)(c,"single",P),d.clickRowToExpand&&e.unref(we)(I+e.unref(oe),c,P)},onDblclick:P=>{e.unref($e)(c,"double",P)},onContextmenu:e.withModifiers(P=>{t("contextmenuRow",c,P)},["prevent"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(ke),(P,Yt)=>(e.openBlock(),e.createElementBlock("td",{key:Yt,style:e.normalizeStyle(Ae(P,"td")),class:e.normalizeClass([{shadow:P===e.unref(Ee),"can-expand":P==="expand"},typeof d.bodyItemClassName=="string"?d.bodyItemClassName:d.bodyItemClassName(P,I+1),`direction-${e.unref(g)}`]),onClick:Ve=>P==="expand"?e.unref(we)(I+e.unref(oe),c,Ve):null},[e.unref(F)[`item-${P}`]?e.renderSlot(d.$slots,`item-${P}`,e.normalizeProps(e.mergeProps({key:0},c)),void 0,!0):e.unref(F)[`item-${P.toLowerCase()}`]?e.renderSlot(d.$slots,`item-${P.toLowerCase()}`,e.normalizeProps(e.mergeProps({key:1},c)),void 0,!0):P==="expand"?(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(["expand-icon",{expanding:e.unref(Be).includes(e.unref(oe)+I)}])},null,2)):P==="checkbox"?(e.openBlock(),e.createBlock(je,{key:3,checked:c[P],onChange:Ve=>e.unref(Gt)(c)},null,8,["checked","onChange"])):e.unref(F).item?e.renderSlot(d.$slots,"item",e.normalizeProps(e.mergeProps({key:4},{column:P,item:c})),void 0,!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:5},[e.createTextVNode(e.toDisplayString(e.unref(gt)(P,c)),1)],64))],14,Nt))),128))],42,St),e.unref(ye)&&e.unref(Be).includes(I+e.unref(oe))?(e.openBlock(),e.createElementBlock("tr",{key:0,class:e.normalizeClass([{"even-row":(I+1)%2===0},typeof d.bodyExpandRowClassName=="string"?d.bodyExpandRowClassName:d.bodyExpandRowClassName(c,I+1)])},[e.createElementVNode("td",{colspan:e.unref(G).length,class:"expand"},[c.expandLoading?(e.openBlock(),e.createBlock(et,{key:0,class:"expand-loading"})):e.createCommentVNode("",!0),e.renderSlot(d.$slots,"expand",e.normalizeProps(e.guardReactiveProps(c)),void 0,!0)],8,Ct)],2)):e.createCommentVNode("",!0)],64))),128)),e.renderSlot(d.$slots,"body-append",e.normalizeProps(e.guardReactiveProps({items:e.unref(K),pagination:{isFirstPage:e.unref(te),isLastPage:e.unref(ee),currentPaginationNumber:e.unref(O),maxPaginationNumber:e.unref(Z),nextPage:e.unref(ae),prevPage:e.unref(ne),updatePage:e.unref(re)},headers:e.unref(G)})),void 0,!0)],2)):e.createCommentVNode("",!0)],8,bt),e.unref(x)?(e.openBlock(),e.createElementBlock("div",Bt,[wt,e.createElementVNode("div",It,[e.unref(Ft)?e.renderSlot(d.$slots,"loading",{key:0},void 0,!0):(e.openBlock(),e.createBlock(Ye,{key:1}))])])):e.createCommentVNode("",!0),!e.unref(K).length&&!e.unref(x)?(e.openBlock(),e.createElementBlock("div",Et,[e.renderSlot(d.$slots,"empty-message",{},()=>[e.createTextVNode(e.toDisplayString(d.emptyMessage),1)],!0)])):e.createCommentVNode("",!0)],2),d.hideFooter?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",$t,[d.hideRowsPerPage?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",At,[e.createTextVNode(e.toDisplayString(d.rowsPerPageMessage)+" ",1),e.createVNode(Ke,{modelValue:e.unref(W),"onUpdate:modelValue":M[0]||(M[0]=c=>e.isRef(W)?W.value=c:null),"rows-items":e.unref(xe)},null,8,["modelValue","rows-items"])])),e.createElementVNode("div",Vt,e.toDisplayString(`${e.unref(Se)}\u2013${e.unref(Ne)}`)+" "+e.toDisplayString(e.unref(R))+" "+e.toDisplayString(e.unref(ce)),1),e.unref(Lt)?e.renderSlot(d.$slots,"pagination",e.normalizeProps(e.mergeProps({key:1},{isFirstPage:e.unref(te),isLastPage:e.unref(ee),currentPaginationNumber:e.unref(O),maxPaginationNumber:e.unref(Z),nextPage:e.unref(ae),prevPage:e.unref(ne)})),void 0,!0):(e.openBlock(),e.createBlock(lt,{key:2,"is-first-page":e.unref(te),"is-last-page":e.unref(ee),onClickNextPage:e.unref(ae),onClickPrevPage:e.unref(ne)},e.createSlots({_:2},[d.buttonsPagination?{name:"buttonsPagination",fn:e.withCtx(()=>[e.createVNode(nt,{"current-pagination-number":e.unref(O),"max-pagination-number":e.unref(Z),onUpdatePage:e.unref(re)},null,8,["current-pagination-number","max-pagination-number","onUpdatePage"])]),key:"0"}:void 0]),1032,["is-first-page","is-last-page","onClickNextPage","onClickPrevPage"]))]))],2))}});var ge=C(Rt,[["__scopeId","data-v-03558ea3"]]);return typeof window!="undefined"&&window.Vue&&window.Vue.createApp({}).component("Vue3EasyDataTable",ge),ge});
